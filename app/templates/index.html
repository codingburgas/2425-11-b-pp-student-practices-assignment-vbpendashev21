{% extends "base.html" %}
{% block title %}{{ '–ü—Ä–æ–≥–Ω–æ–∑–∞ –∑–∞ –æ–±–ª–µ–∫–ª–æ' if session.get('lang') != 'en' else 'Outfit Forecast' }}{% endblock %}

{% block content %}
<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <div class="card p-4 shadow mb-4">
        <h2 class="text-center mb-4">
          üß• {{ '–ü—Ä–æ–≥–Ω–æ–∑–∞ –∑–∞ –æ–±–ª–µ–∫–ª–æ' if session.get('lang') != 'en' else 'Outfit Forecast' }}
        </h2>

        <form method="POST" action="{{ url_for('main.predict_outfit') }}">


          <div class="mb-3">
            <label for="temperature" class="form-label">
              {{ '–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (¬∞C)' if session.get('lang') != 'en' else 'Temperature (¬∞C)' }}
            </label>
            <input type="number" step="0.1" name="temperature" id="temperature" class="form-control"
                   value="{{ request.form.temperature or '' }}" required>
          </div>

          <div class="mb-3">
            <label for="condition" class="form-label">
              {{ '–£—Å–ª–æ–≤–∏—è' if session.get('lang') != 'en' else 'Condition' }}
            </label>
            <select name="condition" id="condition" class="form-select">
              <option value="sunny" {% if request.form.condition == 'sunny' %}selected{% endif %}>
                {{ '–°–ª—ä–Ω—á–µ–≤–æ ‚òÄÔ∏è' if session.get('lang') != 'en' else 'Sunny ‚òÄÔ∏è' }}
              </option>
              <option value="rain" {% if request.form.condition == 'rain' %}selected{% endif %}>
                {{ '–î—ä–∂–¥ üåßÔ∏è' if session.get('lang') != 'en' else 'Rain üåßÔ∏è' }}
              </option>
              <option value="snow" {% if request.form.condition == 'snow' %}selected{% endif %}>
                {{ '–°–Ω—è–≥ ‚ùÑÔ∏è' if session.get('lang') != 'en' else 'Snow ‚ùÑÔ∏è' }}
              </option>
            </select>
          </div>

          <div class="mb-3">
            <label for="ai_mode" class="form-label">
              {{ 'AI —Ä–µ–∂–∏–º' if session.get('lang') != 'en' else 'AI Mode' }}
            </label>
            <select name="ai_mode" id="ai_mode" class="form-select">
              <option value="simple">{{ '–û–±–∏–∫–Ω–æ–≤–µ–Ω AI' if session.get('lang') != 'en' else 'Simple AI' }}</option>
              <option value="advanced">{{ '–û–±—É—á–µ–Ω AI' if session.get('lang') != 'en' else 'Advanced AI' }}</option>
            </select>
          </div>

          <div class="mb-3">
            <label for="description" class="form-label">
              {{ '–î–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ' if session.get('lang') != 'en' else 'Additional description' }}
            </label>
            <input type="text" name="description" id="description" class="form-control"
                   placeholder="{{ '–ø–æ –∂–µ–ª–∞–Ω–∏–µ' if session.get('lang') != 'en' else 'optional' }}">
          </div>

          <div class="d-grid">
            <button type="submit" class="btn btn-primary">
              {{ '–ü—Ä–µ–¥—Å–∫–∞–∂–∏ –æ–±–ª–µ–∫–ª–æ' if session.get('lang') != 'en' else 'Predict outfit' }}
            </button>
          </div>
        </form>

        {% if outfit %}
          <div class="alert alert-info mt-4 animate__animated animate__fadeIn">
            <h5 class="text-center">üßæ {{ '–†–µ–∑—É–ª—Ç–∞—Ç:' if session.get('lang') != 'en' else 'Result:' }}</h5>
            <p class="fs-4 text-center">
              <span style="font-size: 2em;">üëï</span><br>
              <strong>{{ outfit }}</strong><br>
              <small class="text-muted">{{ '–£–≤–µ—Ä–µ–Ω–æ—Å—Ç' if session.get('lang') != 'en' else 'Confidence' }}: {{ confidence | round(2) }}</small>
            </p>

            {% if request.form.description %}
              <p class="text-muted"><strong>{{ '–û–ø–∏—Å–∞–Ω–∏–µ' if session.get('lang') != 'en' else 'Description' }}:</strong> {{ request.form.description }}</p>
            {% endif %}
          </div>
        {% endif %}
      </div>
    </div>
  </div>
</div>
{% endblock %}